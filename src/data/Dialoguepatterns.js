/**
 * BL 대사 패턴 데이터베이스
 * 상황별, 캐릭터 유형별 대사 템플릿 및 예시
 */

// ============================================================
// 대사 구조 원칙
// ============================================================

export const DIALOGUE_PRINCIPLES = {
  // 대화-행동-반응 샌드위치 구조
  sandwich: {
    structure: '[행동] → [대사] → [반응]',
    example: {
      action: '나는 그의 목을 끌어안고 몸을 밀착했다.',
      dialogue: '"좋아. 그럼 오늘 하루 종일 형한테 붙어서 안 떨어질래."',
      reaction: '그의 눈이 순간 번뜩이는 것을 놓치지 않았다.'
    }
  },
  
  // 표면과 이면이 다른 대사
  layered: {
    description: '겉으로 드러나는 의미와 숨겨진 의미가 다른 대사',
    example: {
      surface: '"우리 자기라니… 와, 그런 간지러운 말도 할 줄 알았어?"',
      hidden: '달콤한 호칭에 대한 만족감',
      effect: '상대를 자극하여 다음 행동 유도'
    }
  }
};

// ============================================================
// 공(攻) 캐릭터 대사 패턴
// ============================================================

export const GONG_DIALOGUES = {
  // 냉혈공/재벌공
  cold: {
    // 일상/평상시
    normal: [
      '됐어.',
      '알아서 해.',
      '...네가 정하는 게 아니야.',
      '쓸데없는 소리.',
      '한 번만 더 그러면.'
    ],
    
    // 애정 표현 (억제된)
    affection: [
      '...알았어.',
      '닥치고 가만히 있어.',
      '네가 원하면.',
      '...불편해?',
      '...쳐다보지 마.'
    ],
    
    // 질투/독점욕
    jealousy: [
      '누구야, 그놈.',
      '...그런 눈으로 다른 놈 보지 마.',
      '네가 뭘 해도 상관없어. 근데 나한테만 해.',
      '웃겨. 네가 어디 가겠어.',
      '도망쳐봐. 끝까지 찾아갈 테니까.'
    ],
    
    // 성적 상황
    intimate: [
      '움직이지 마.',
      '...조용히 해.',
      '끝까지 버텨봐.',
      '네가 원한 거야.',
      '...더?'
    ],
    
    // 화났을 때
    angry: [
      '...',
      '한 번만. 한 번만 더 그래봐.',
      '재밌네.',
      '네가 감당할 수 있을 것 같아?',
      '후회하게 해줄게.'
    ]
  },

  // 강공/광공
  intense: {
    normal: [
      '뭘 봐.',
      '씨발, 시끄러워.',
      '건드리지 마.',
      '내가 왜.',
      '어디 가려고.'
    ],
    
    affection: [
      '...내 거야.',
      '도망치지 마.',
      '네가 뭔데 나한테 이래.',
      '씨발... 귀여워.',
      '죽여버릴까.'
    ],
    
    jealousy: [
      '씨발, 어딜 가려고.',
      '그놈 뭐야. 죽여?',
      '다시 한번 웃어봐. 걔한테.',
      '너는 내 거야. 알아?',
      '도망치면 찾아가서 끌고 올 거야.'
    ],
    
    intimate: [
      '울어봐.',
      '씨발, 존나 좋아.',
      '더 조여.',
      '도망 못 가.',
      '내 거라고 해.'
    ],
    
    angry: [
      '미쳤어?',
      '씨발.',
      '한 번만 더.',
      '죽을래?',
      '웃기네.'
    ]
  },

  // 능글공/개아가공
  playful: {
    normal: [
      '왜~ 보고 싶었어?',
      '귀엽네.',
      '후훗.',
      '그래서?',
      '재밌겠다.'
    ],
    
    affection: [
      '왜 이렇게 귀여워~',
      '진짜 너 때문에 미치겠어.',
      '그렇게 좋아?',
      '후훗, 솔직하네.',
      '귀여워서 어떡하지.'
    ],
    
    jealousy: [
      '헤에~ 그놈 누구야?',
      '질투하는 거 아니야~ 그냥 궁금해서.',
      '...근데 왜 걔한테 웃어?',
      '나한테만 웃어줘~ 응?',
      '농담이야. ...반은.'
    ],
    
    intimate: [
      '좋아? 여기?',
      '얼굴 봐~ 빨개졌네.',
      '더 해줄까?',
      '솔직하게 말해봐.',
      '귀여워... 진짜.'
    ],
    
    angry: [
      '...뭐?',
      '웃기다.',
      '하하. 진심이야?',
      '...장난 아니었으면 좋겠는데.',
      '그래. 알았어.'
    ]
  },

  // 다정공/헌신공
  gentle: {
    normal: [
      '괜찮아?',
      '무슨 일 있어?',
      '말해줘.',
      '힘들면 쉬어.',
      '내가 할게.'
    ],
    
    affection: [
      '사랑해.',
      '네가 원하는 대로 해.',
      '다 줄게.',
      '아파? 미안해.',
      '계속 옆에 있을게.'
    ],
    
    jealousy: [
      '...그 사람 누구야?',
      '질투... 하는 것 같아.',
      '나만 보면 안 돼?',
      '미안. 별거 아니야.',
      '...내가 부족해?'
    ],
    
    intimate: [
      '아파? 천천히 할게.',
      '좋아?',
      '더 해줄까?',
      '사랑해... 사랑해...',
      '미안해, 너무 급했지?'
    ],
    
    angry: [
      '...왜 그래?',
      '말해줘. 내가 뭘 잘못했어?',
      '미안해.',
      '화내지 마... 제발.',
      '어떻게 하면 돼?'
    ]
  }
};

// ============================================================
// 수(受) 캐릭터 대사 패턴
// ============================================================

export const SU_DIALOGUES = {
  // 까칠수/강수
  tsundere: {
    normal: [
      '뭘 봐.',
      '상관 마.',
      '손 치워.',
      '씨발.',
      '누가 좋다고 했어.'
    ],
    
    affection: [
      '...그냥.',
      '닥쳐.',
      '한 번만이야.',
      '...고마워.',
      '씨발... 좋아한다고.'
    ],
    
    resistance: [
      '그만해.',
      '손 치우라고.',
      '아프다고!',
      '씨발, 미쳤어?',
      '놓으라고!'
    ],
    
    surrender: [
      '...씨발.',
      '좋아... 됐어.',
      '알았어, 알았다고.',
      '...더.',
      '그만... 아니, 더...'
    ],
    
    intimate: [
      '으... 닥쳐.',
      '아, 아파... 씨발...',
      '그만... 좋아...',
      '더... 씨발, 더...',
      '좋아, 좋아...!'
    ]
  },

  // 다정수/헌신수
  devoted: {
    normal: [
      '무슨 일 있어?',
      '내가 해줄까?',
      '괜찮아.',
      '걱정하지 마.',
      '옆에 있을게.'
    ],
    
    affection: [
      '사랑해.',
      '행복해.',
      '고마워... 정말.',
      '계속 이렇게 있고 싶어.',
      '네가 좋아.'
    ],
    
    acceptance: [
      '괜찮아. 더 해도 돼.',
      '아프지 않아.',
      '좋아... 기분 좋아.',
      '네가 원하면.',
      '다 받아줄게.'
    ],
    
    intimate: [
      '으응... 좋아...',
      '더... 해줘...',
      '사랑해, 사랑해...',
      '행복해...',
      '너무 좋아...'
    ]
  },

  // 상처수/자낮수
  wounded: {
    normal: [
      '...미안해.',
      '내가 잘못했어.',
      '괜찮아... 나는.',
      '신경 쓰지 마.',
      '...'
    ],
    
    selfDeprecation: [
      '나 같은 게...',
      '미안해. 내가 부족해서.',
      '나... 이래도 돼?',
      '버려도 돼. 괜찮아.',
      '죄송해... 죄송해...'
    ],
    
    gratitude: [
      '...왜 나한테 이렇게 해줘?',
      '받을 자격이 없는데...',
      '고마워... 미안해...',
      '...울어도 돼?',
      '행복해도 되는 건가...'
    ],
    
    intimate: [
      '아... 미안해...',
      '이상해... 좋아...',
      '흑... 죄송해...',
      '나 같은 게... 이래도 돼...?',
      '미안해... 좋아...!'
    ]
  },

  // 유혹수
  seductive: {
    normal: [
      '뭐 봐~ 좋아?',
      '이리 와.',
      '오늘 뭐 해?',
      '심심한데~',
      '같이 놀자.'
    ],
    
    temptation: [
      '이것도, 나 때문에 이렇게 된 거잖아.',
      '내가 책임져줄게.',
      '원해?',
      '나 줄까?',
      '네가 원하는 거 다 해줄게.'
    ],
    
    provocation: [
      '왜~ 참고 있어?',
      '이 정도도 못 참아?',
      '쫄았어?',
      '남자가~',
      '실망이네.'
    ],
    
    intimate: [
      '음~ 좋아...',
      '더... 더 해줘...',
      '거기... 좋아...',
      '박아줘...',
      '더 세게...!'
    ]
  },

  // 공이었수
  formerTop: {
    normal: [
      '뭐.',
      '알아서 해.',
      '건드리지 마.',
      '...내가 왜.',
      '웃기네.'
    ],
    
    resistance: [
      '그만해.',
      '내가 왜 이런...',
      '씨발, 미쳤어?',
      '...농담이지?',
      '이건 아니야.'
    ],
    
    breakdown: [
      '씨발... 이럴 수가...',
      '말도 안 돼...',
      '나... 나한테 왜...',
      '이게 뭐야...',
      '미친...'
    ],
    
    surrender: [
      '좋아... 씨발, 좋아...',
      '더... 더...',
      '미쳤어... 진짜...',
      '...인정해. 좋다고.',
      '씨발... 더 해...'
    ]
  },

  // 연상수/아저씨수
  older: {
    normal: [
      '그래.',
      '어휴...',
      '알았어, 알았어.',
      '요즘 애들은...',
      '천천히 해.'
    ],
    
    composure: [
      '뭘 그렇게 서둘러.',
      '여유 좀 가져.',
      '허허.',
      '젊은 게 좋긴 좋네.',
      '...귀엽네.'
    ],
    
    breakdown: [
      '야... 너...',
      '잠깐, 잠깐...',
      '이건 좀...',
      '미쳤어?',
      '어휴... 진짜...'
    ],
    
    surrender: [
      '...너 진짜.',
      '알았어, 알았다고...',
      '씨발... 젊은 게...',
      '미쳤어...!',
      '더... 해...'
    ]
  }
};

// ============================================================
// 상황별 대사 템플릿
// ============================================================

export const SITUATIONAL_DIALOGUES = {
  // 첫 만남
  firstMeeting: {
    cold: '...누구야.',
    intense: '뭘 봐.',
    playful: '오? 처음 보는 얼굴이네~',
    gentle: '안녕하세요. 처음 뵙죠?',
    tsundere: '뭐야, 누구세요.',
    devoted: '안녕하세요!',
    wounded: '아... 네...',
    seductive: '안녕~ 나 [이름]이야.'
  },

  // 고백 장면
  confession: {
    cold: '...알았어.',
    intense: '씨발, 진작 말하지.',
    playful: '후훗, 알고 있었는데~',
    gentle: '나도... 나도 사랑해.',
    tsundere: '...뭐야, 갑자기.',
    devoted: '나도 좋아해! 정말!',
    wounded: '나... 나 같은 걸...?',
    seductive: '알고 있었어~ 근데 직접 들으니까 좋네.'
  },

  // 질투 장면
  jealousy: {
    cold: '그놈 뭐야.',
    intense: '죽여?',
    playful: '헤에~ 나 말고 또 있어?',
    gentle: '...조금 질투 나.',
    tsundere: '씨발, 상관없거든.',
    devoted: '...저 사람 누구야?',
    wounded: '...내가 부족해서 그런 거지.',
    seductive: '내가 더 잘해줄 수 있는데~'
  },

  // 화해 장면
  reconciliation: {
    cold: '...미안.',
    intense: '씨발. 내가 잘못했어.',
    playful: '화 풀어~ 응?',
    gentle: '미안해. 정말 미안해.',
    tsundere: '...한 번만 봐줘.',
    devoted: '다시는 안 그럴게. 약속해.',
    wounded: '미안해... 내가 다 잘못했어...',
    seductive: '화났어? 내가 풀어줄까~'
  }
};

// ============================================================
// 유혹과 허락의 줄다리기 패턴
// ============================================================

export const PUSH_PULL_PATTERNS = {
  // 수가 유혹 → 공이 허락
  suInitiated: [
    {
      su: '이것도, 나 때문에 이렇게 된 거잖아. 내가 책임져줄게.',
      gong: '네가 걸레같이 굴려지길 바라는구나? 원하는대로 들어줘야지.',
      su: '응… 형이 원하는 대로. 형 마음대로 나를 굴려줘.'
    }
  ],
  
  // 공이 도발 → 수가 반응
  gongInitiated: [
    {
      gong: '뭐야. 벌써 이래?',
      su: '...닥쳐.',
      gong: '솔직하게 말해봐.',
      su: '씨발... 더 해.'
    }
  ]
};

// ============================================================
// 유틸리티 함수
// ============================================================

/**
 * 캐릭터 유형과 상황에 맞는 대사 가져오기
 */
export function getDialogue(role, type, situation) {
  const dialogues = role === 'gong' ? GONG_DIALOGUES : SU_DIALOGUES;
  const characterDialogues = dialogues[type];
  
  if (!characterDialogues) return null;
  
  const situationDialogues = characterDialogues[situation];
  if (!situationDialogues || !Array.isArray(situationDialogues)) return null;
  
  return situationDialogues[Math.floor(Math.random() * situationDialogues.length)];
}

/**
 * 상황별 대사 가져오기
 */
export function getSituationalDialogue(situation, type) {
  const dialogues = SITUATIONAL_DIALOGUES[situation];
  if (!dialogues) return null;
  
  return dialogues[type] || null;
}

/**
 * 대사 스타일 가이드 생성
 */
export function generateDialogueGuide(gongType, suType) {
  const gongDialogues = GONG_DIALOGUES[gongType];
  const suDialogues = SU_DIALOGUES[suType];
  
  return {
    gong: {
      type: gongType,
      normalExamples: gongDialogues?.normal?.slice(0, 3) || [],
      intimateExamples: gongDialogues?.intimate?.slice(0, 3) || []
    },
    su: {
      type: suType,
      normalExamples: suDialogues?.normal?.slice(0, 3) || [],
      intimateExamples: suDialogues?.intimate?.slice(0, 3) || []
    }
  };
}

export default {
  DIALOGUE_PRINCIPLES,
  GONG_DIALOGUES,
  SU_DIALOGUES,
  SITUATIONAL_DIALOGUES,
  PUSH_PULL_PATTERNS,
  getDialogue,
  getSituationalDialogue,
  generateDialogueGuide
};